[class^="icon-"],
[class*=" icon-"] {
  position: relative;
  display: inline-block;

  &:after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
    width: 100%;
    height: 100%;
    min-width: 1.6rem;
    min-height: 1.6rem;
    background-repeat: no-repeat;
    background-position: center;
    background-size: 16px 16px; /* IE requires pixels. Using cover/contain/rem values cause blurry edges */
  }

  @each $key, $value in $icons {
    $icon: str-replace($key, '_', '-');
    &.icon-#{$icon}:after {
      @include icon($key, 'rgb(145,158,171)', embedded);

      &.disabled:after, &:disabled:after {
        @include icon($key, 'rgb(196,205,213)', embedded);
      }
    }
  }
  
  // Edge-specific fix replaces embedded svgs with references
  @supports (-ms-ime-align: auto) {
    @each $key, $value in $icons {
      $icon: str-replace($key, '_', '-');

      &.icon-#{$icon}:after {
        @include icon($key, 'rgb(145,158,171)', linked);

        &.disabled:after, &:disabled:after {
          @include icon($key, 'rgb(196,205,213)', linked);
        }
      }
    }
  }
}
